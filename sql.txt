CREATE DATABASE IF NOT EXISTS `adventuregame` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `adventuregame`;

CREATE TABLE IF NOT EXISTS `players` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `playerpublickey` varchar(255) NOT NULL,
  `username` varchar(255) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`ID`),
  UNIQUE KEY `playerpublickey` (`playerpublickey`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS `player_inventory` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `playerpublickey` varchar(50) NOT NULL,
  `key` varchar(50) NOT NULL,
  `value` double NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`ID`),
  KEY `playerpublickey` (`playerpublickey`),
  CONSTRAINT `playerpublickey_player_inventory` FOREIGN KEY (`playerpublickey`) REFERENCES `players` (`playerpublickey`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

